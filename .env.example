# ==============================================
# متغيرات البيئة لـ Railway
# ==============================================
# انسخ هذا الملف إلى .env واضبط القيم

# ==============================================
# قاعدة البيانات (يُملأ تلقائياً من Railway)
# ==============================================
DATABASE_URL=postgresql://user:password@host:5432/database

# ==============================================
# الأمان - مهم جداً! (مطلوب)
# ==============================================
# استخدم: python -c "import secrets; print(secrets.token_urlsafe(32))"
# يجب أن يكون 32 حرف على الأقل
SECRET_KEY=

# ==============================================
# البيئة
# ==============================================
ENVIRONMENT=production

# ==============================================
# CORS - روابط الفرونت إند (مفصولة بفاصلة)
# ==============================================
ALLOWED_ORIGINS=https://mnam-sys-dash.vercel.app,http://localhost:5173

# ==============================================
# اختياري: Gemini AI
# ==============================================
# GEMINI_API_KEY=your-gemini-api-key

# ==============================================
# Channex Integration (Server-Side Only!)
# ==============================================
# Base URL (production vs staging)
CHANNEX_BASE_URL=https://app.channex.io/api/v1

# Enable/Disable Channex integration globally
CHANNEX_ENABLED=true

# Webhook secret for signature validation (HMAC-SHA256)
# CHANNEX_WEBHOOK_SECRET=your-webhook-secret

# IP allowlist for webhooks (comma-separated, empty = allow all)
# CHANNEX_ALLOWED_IPS=

# Replay protection window in seconds (default: 300 = 5 minutes)
CHANNEX_WEBHOOK_REPLAY_WINDOW=300

# Weekend days (Saudi default: Friday=4, Saturday=5)
# Format: comma-separated weekday numbers (Monday=0, Sunday=6)
WEEKEND_DAYS=4,5

# Rate limits per property per minute (Channex default: 10)
CHANNEX_PRICE_RATE_LIMIT=10
CHANNEX_AVAIL_RATE_LIMIT=10

# Days ahead to sync (default: 365)
CHANNEX_SYNC_DAYS=365

# Max payload size in bytes (Channex limit: 10MB)
CHANNEX_MAX_PAYLOAD_BYTES=10000000

# Batch control settings
CHANNEX_BATCH_MAX_UNITS=50
CHANNEX_DATE_RANGE_COMPRESSION=true

# ==============================================
# Channex LOCAL Testing (Development Only!)
# ==============================================
# API Key - NEVER commit to git, rotate if compromised
# Generate new key: Channex Dashboard → Settings → API Keys
# CHANNEX_API_KEY=

# Staging IDs for local testing
# Get these from Channex Dashboard → Properties → Your Property
# CHANNEX_PROPERTY_ID=a10bc75f-629f-4cd6-97a4-d735a38912ee
# CHANNEX_ROOM_TYPE_ID=f1edd109-7835-4296-956e-b7b778d43728
# CHANNEX_RATE_PLAN_ID=30164cf5-2f0a-4a8d-a6fb-8116d2559e6d

# HTTP timeout in seconds (default: 20)
CHANNEX_TIMEOUT_SECONDS=20

# ==============================================
# Worker Configuration
# ==============================================
# How often the worker polls for new events (seconds)
WORKER_INTERVAL=10

# How many events to process per batch
WORKER_BATCH_SIZE=50
